<!DOCTYPE html>
<html lang="en">
<head>

    <title>Wetterstation</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <h1> <b> <u> Willkommen auf meiner Website </u> </b> </h1>

    <h2> <i> Wetterstation Werte: </i></h2>
    <table id="weatherTable">
        <tr>
            <th>Tag</th>
            <th>Temperatur</th>
            <th>Luftfeuchtigkeit</th>
            <th>Windgeschwindigkeit</th>
        </tr>
        <tr>
            <td> <b> Montag </b></td>
            <td>  10°C</td>
            <td>  67%</td>
            <td>  5km/h</td>
        </tr>
        <tr>
            <td> <b> Dienstag </b> </td>
            <td>  40°C</td>
            <td>  76%</td>
            <td>  4km/h</td>
        </tr>
        <tr>
            <td><b>Mittwoch</b></td>
            <td>  15°C</td>
            <td>  2%</td>
            <td>  10km/h</td>
        </tr>
        <tr>
            <td> <b> Donnerstag </b></td>
            <td>  5°C</td>
            <td>  89%</td>
            <td>  7km/h</td>
        </tr>
        <tr>
            <td> <b> Freitag </b> </td>
            <td>  12°C</td>
            <td>  34%</td>
            <td>  4km/h</td>
        </tr>
        <tr>
            <td><b>Samstag </b></td>
            <td>  24°C</td>
            <td>  44%</td>
            <td>  15km/h</td>
        </tr>
        <tr>
            <td> <b>Sonntag </b></td>
            <td> 23°C</td>
            <td>  4%</td>
            <td>  7km/h</td>
        </tr>
    </table>

    <br><br>

    <h2><i>Liniendiagramm:</i></h2>
    
    <canvas id="myChart" width="700" height="100"></canvas>
    <script>
    var table = document.getElementById('weatherTable');
    var tableData = [];
    
    //Die Daten der Tabelle direkt in die Diagramm Daten reinsetzen
    for (var i = 1; i < table.rows.length; i++) 
    {
    var rowData = [];

    for (var j = 1; j < table.rows[i].cells.length; j++) 
    {
    rowData.push(table.rows[i].cells[j].innerText.replace(/[^\d.-]/g, ''));
    }
    
    tableData.push(rowData);
    }
        
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
    
    //Die Daten auf den Diagramm ausgeben
    type: 'line',
    data: 
    {

    labels: ['Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag', 'Sonntag'],
    datasets: 
    [{
        label: 'Temperatur (°C)',
        data: tableData.map(row => row[0]),
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgba(255, 99, 132, 1)',
        borderWidth: 2,
    }, 
    
    {
        label: 'Luftfeuchtigkeit (%)',
        data: tableData.map(row => row[1]),
        backgroundColor: 'rgba(54, 162, 235, 0.2)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 2,
    }, 
    
    {
        label: 'Windgeschwindigkeit (km/h)',
        data: tableData.map(row => row[2]),
        backgroundColor: 'rgba(255, 206, 86, 0.2)',
        borderColor: 'rgba(255, 206, 86, 1)',
        borderWidth: 2,
    }]
    },

    });
    </script>

    <br><br><br><br>

    <h3>Für Fragen/Informationen:</h3>

    <form action="PfadZuDeinemServerSkript" method="post">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name" required><br>
        <label for="email">E-Mail:</label><br>
        <input type="email" id="email" name="email" required><br>
        <label for="message">Nachricht:</label><br>
        <textarea id="message" name="message" rows="4" required></textarea><br>
        <input type="submit" value="Absenden">
    </form>

</body>
</html>